(this.webpackJsonpcountries=this.webpackJsonpcountries||[]).push([[0],{41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n(16),i=n.n(c),a=n(3),r=n(4),o=n.n(r),u=n(0),d=function(e){var t=e.filterName,n=e.setFilterName;return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Phonebook"}),Object(u.jsx)("div",{children:Object(u.jsxs)("div",{children:["filter shown with ",Object(u.jsx)("input",{value:t,onChange:function(e){n(e.target.value)}})]})})]})},j=(n(41),function(e){var t=e.message,n=e.type;return t?Object(u.jsx)("div",{className:n,children:t}):null}),b=function(e){var t=e.name,n=e.number,s=e.id,c=e.setisAdded,i=e.setNotificationMessage;return Object(u.jsxs)("p",{children:[t," ",n," ",Object(u.jsx)("button",{onClick:function(){window.confirm("Desea eliminar a ".concat(t," - ").concat(n))&&o.a.delete("/api/persons/".concat(s)).then((function(e){i("".concat(t," has already been removed from server"),"error"),c(!0)}))},children:"delete"})]})},l=function(e){var t=e.filteredPersons,n=e.setisAdded,s=e.setNotificationMessage;return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Numbers"}),t.map((function(e){return Object(u.jsx)(b,{id:e.id,name:e.name,number:e.number,setisAdded:n,setNotificationMessage:s},e.number)}))]})},f=n(7),m=function(e){var t=e.newName,n=e.newNumber,s=e.persons,c=e.setNewName,i=e.setNewNumber,a=e.setisAdded,r=e.setNotificationMessage,d=function(e,t){0===t.length?(o.a.post("/api/persons",e).then((function(t){return r("Added ".concat(e.name),"success")})),a(!0),c(""),i("")):(t[0]=Object(f.a)(Object(f.a)({},t[0]),{},{number:n}),o.a.put("/api/persons/".concat(t[0].id),t[0]).then((function(e){return r("Added ".concat(t[0].name),"success")})),a(!0),c(""),i(""))};return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"add a new"}),Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:["name: ",Object(u.jsx)("input",{value:t,onChange:function(e){c(e.target.value)}})]}),Object(u.jsxs)("div",{children:["number: ",Object(u.jsx)("input",{value:n,onChange:function(e){i(e.target.value)}})]})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault();var c={name:t,number:n},i=s.filter((function(e){return e.name.toLowerCase().trim()===c.name.toLowerCase().trim()}));d(c,i)},children:"add"})})]})]})},O=function(){var e=Object(s.useState)([]),t=Object(a.a)(e,2),n=t[0],c=t[1],i=Object(s.useState)(""),r=Object(a.a)(i,2),b=r[0],f=r[1],O=Object(s.useState)(""),h=Object(a.a)(O,2),v=h[0],x=h[1],p=Object(s.useState)(""),N=Object(a.a)(p,2),w=N[0],g=N[1],C=Object(s.useState)(!1),A=Object(a.a)(C,2),S=A[0],M=A[1],k=Object(s.useState)(null),y=Object(a.a)(k,2),L=y[0],E=y[1],F=Object(s.useState)(""),P=Object(a.a)(F,2),D=P[0],J=P[1],B=function(){o.a.get("/api/persons").then((function(e){c(e.data)}))},I=function(e,t){E(e),J(t),setTimeout((function(){E(null),J("")}),5e3)};Object(s.useEffect)((function(){B()}),[]),Object(s.useEffect)((function(){!0===S&&(B(),M(!1))}),[S]);var T=n.filter((function(e){return e.name.toLowerCase().includes(w.toLocaleLowerCase())}));return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(j,{message:L,type:D}),Object(u.jsx)(d,{filterName:w,setFilterName:g}),Object(u.jsx)(m,{newName:b,newNumber:v,persons:n,setNewName:f,setNewNumber:x,setisAdded:M,setNotificationMessage:I}),Object(u.jsx)(l,{filteredPersons:T,setisAdded:M,setNotificationMessage:I})]})};i.a.render(Object(u.jsx)(O,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.03e48064.chunk.js.map