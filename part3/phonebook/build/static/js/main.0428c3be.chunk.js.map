{"version":3,"sources":["components/Filter.js","components/Notification.js","components/Person.js","components/Number.js","components/PersonForm.js","App.js","index.js"],"names":["Filter","filterName","setFilterName","value","onChange","e","target","Notification","message","type","className","Person","name","number","id","setisAdded","setNotificationMessage","onClick","window","confirm","axios","delete","then","response","Number","filteredPersons","map","person","PersonFilter","newName","newNumber","persons","setNewName","setNewNumber","isRepeated","personObject","repeatedPerson","length","post","put","preventDefault","filter","toLowerCase","trim","App","useState","setPersons","isAdded","setMessage","messageType","setMessageType","getDbData","get","data","setTimeout","useEffect","includes","PersonForm","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0428c3be.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ filterName, setFilterName }) => {\r\n\r\n    const handleFilterName = (e) => {\r\n        setFilterName(e.target.value);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n            <div>\r\n                <div>\r\n                    filter shown with <input value={filterName} onChange={handleFilterName} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter;","import React from 'react';\r\nimport '../index.css';\r\n\r\nconst Notification = ({ message, type }) => {\r\n\r\n    if (message) {\r\n        return (\r\n            <div className={type}>{message}</div>\r\n        )\r\n    } else {\r\n        return null;\r\n    }\r\n\r\n}\r\n\r\nexport default Notification;","import axios from 'axios';\r\nimport React from 'react'\r\n\r\nconst Person = ({ name, number, id, setisAdded, setNotificationMessage }) => {\r\n\r\n    const deletePerson = () => {\r\n        const result = window.confirm(`Desea eliminar a ${name} - ${number}`);\r\n        if (result) {\r\n            axios\r\n                .delete(`/api/persons/${id}`)\r\n                .then(response => {\r\n                    setNotificationMessage(`${name} has already been removed from server`, 'error')\r\n                    setisAdded(true)\r\n                });\r\n        }\r\n    }\r\n\r\n    return (\r\n        <p>{name} {number} <button onClick={deletePerson}>delete</button></p>\r\n    )\r\n}\r\n\r\nexport default Person;","import React from 'react';\r\n\r\nimport Person from './Person';\r\n\r\nconst Number = ({ filteredPersons, setisAdded, setNotificationMessage }) => {\r\n    return (\r\n        <div>\r\n            <h2>Numbers</h2>\r\n            {filteredPersons.map(person => (\r\n                <Person key={person.number} id={person.id} name={person.name} number={person.number} setisAdded={setisAdded} setNotificationMessage={setNotificationMessage} />\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Number;","import axios from 'axios';\r\nimport React from 'react';\r\n\r\nconst PersonFilter = ({ newName, newNumber, persons, setNewName, setNewNumber, setisAdded, setNotificationMessage }) => {\r\n\r\n    const addPerson = (e) => {\r\n        e.preventDefault();\r\n        const personObject = {\r\n            name: newName,\r\n            number: newNumber,\r\n        };\r\n\r\n        const repeatedPerson = persons.filter(person =>\r\n            person.name.toLowerCase().trim() === personObject.name.toLowerCase().trim()\r\n        );\r\n\r\n        isRepeated(personObject, repeatedPerson);\r\n    }\r\n\r\n    const isRepeated = (personObject, repeatedPerson) => {\r\n        if (repeatedPerson.length === 0) {\r\n            axios\r\n                .post('/api/persons', personObject)\r\n                .then(response => setNotificationMessage(`Added ${personObject.name}`, 'success'));\r\n            setisAdded(true);\r\n            setNewName('');\r\n            setNewNumber('');\r\n        } else {\r\n            repeatedPerson[0] = { ...repeatedPerson[0], number: newNumber };\r\n            axios\r\n                .put(`/api/persons/${repeatedPerson[0].id}`, repeatedPerson[0])\r\n                .then(response => setNotificationMessage(`Added ${repeatedPerson[0].name}`, 'success'));\r\n            setisAdded(true);\r\n            setNewName('');\r\n            setNewNumber('');\r\n        }\r\n    }\r\n\r\n    const handleNameChange = (e) => {\r\n        setNewName(e.target.value);\r\n    }\r\n\r\n    const handleNumberChange = (e) => {\r\n        setNewNumber(e.target.value);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>add a new</h2>\r\n            <form>\r\n                <div>\r\n                    <div>\r\n                        name: <input value={newName} onChange={handleNameChange} />\r\n                    </div>\r\n                    <div>\r\n                        number: <input value={newNumber} onChange={handleNumberChange} />\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    <button type=\"submit\" onClick={addPerson} >add</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PersonFilter;","import axios from 'axios';\r\nimport React, { useState, useEffect } from 'react';\r\n\r\nimport Filter from './components/Filter';\r\nimport Notification from './components/Notification';\r\nimport Number from './components/Number';\r\nimport PersonForm from './components/PersonForm';\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([]);\r\n    const [newName, setNewName] = useState('');\r\n    const [newNumber, setNewNumber] = useState('');\r\n    const [filterName, setFilterName] = useState('');\r\n    const [isAdded, setisAdded] = useState(false);\r\n    const [message, setMessage] = useState(null);\r\n    const [messageType, setMessageType] = useState('');\r\n\r\n    const getDbData = () => {\r\n        axios.get('/api/persons')\r\n            .then(response => {\r\n                setPersons(response.data)\r\n            })\r\n    }\r\n\r\n    const setNotificationMessage = (message, type) => {\r\n        setMessage(message);\r\n        setMessageType(type);\r\n        setTimeout(() => {\r\n            setMessage(null);\r\n            setMessageType('');\r\n        }, 5000);\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        getDbData();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (isAdded === true) {\r\n            getDbData();\r\n            setisAdded(false);\r\n        }\r\n    }, [isAdded])\r\n\r\n    const filteredPersons = persons.filter(person => (\r\n        person.name.toLowerCase().includes(filterName)\r\n    ))\r\n\r\n    return (\r\n        <>\r\n            <Notification message={message} type={messageType} />\r\n            <Filter\r\n                filterName={filterName}\r\n                setFilterName={setFilterName}\r\n            />\r\n            <PersonForm\r\n                newName={newName}\r\n                newNumber={newNumber}\r\n                persons={persons}\r\n                setNewName={setNewName}\r\n                setNewNumber={setNewNumber}\r\n                setisAdded={setisAdded}\r\n                setNotificationMessage={setNotificationMessage}\r\n            />\r\n            <Number\r\n                filteredPersons={filteredPersons}\r\n                setisAdded={setisAdded}\r\n                setNotificationMessage={setNotificationMessage}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n"],"sourceRoot":""}